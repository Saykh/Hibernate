1.10 Методы UPDATE и DELETE

Вернемся к нашему объекту Session и рассмотрим его методы UPDATE и DELETE. Ведь пока мы изучили
только save.
UPDATE -> обновление, если такого пользователя нет, он бросит исключение.

Кстати, у Hibernate отложенная отправка запроса - он максимально пытается оттянуть тот момент,
когда нужно открыть транзакцию и начать общение с БД. Это всё для оптимизации - чтобы мы могли
собрать, например, несколько запросов и отправить их вместе. Поэтому запрос выполнится тогда,
когда мы закомитим транзакцию или закроем сессию.


Если мы не хотим проверять, есть ли такой пользователей или нет, используем метод SaveOrUpdate.
Если такого пользователя не будет, он сохранит. Сначала же он сделает select запрос - есть ли такой
пользователь, а потом insert (если такого пользователя нет) в КАКОЙ-ТО момент времени, но точно
до закрытия транзакции. Та же история и с update, если указанный пользователь имеется.


DELETE -> удаление сущности, тоже по ID. Опять же, сначала select - есть ли такая сущность, делать
ли последующий запрос delete в какой-то момент времени до закрытия транзакции или во время нее,
то есть опять отложенный запрос.

Если удаляемой сущности нет, данный метод не бросит исключение.



